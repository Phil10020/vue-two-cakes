{"version":3,"file":"js/316.abfbb749.js","mappings":"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","sources":["webpack://two-cakes/./src/views/CheckOut.vue","webpack://two-cakes/./src/views/CheckOut.vue?a994"],"sourcesContent":["<template>\r\n  <div class=\"container mt-7\">\r\n    <div class=\"row row-cols-3 row-cols-sm-3\">\r\n      <div class=\"col text-center\">\r\n        <div\r\n          class=\"check-step check-step-finished d-flex flex-column justify-content-center\"\r\n        >\r\n          <i class=\"bi bi-check2-circle check-step-icon\"></i>\r\n          <span>STEP 1</span>\r\n          <span>確認訂單</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"col text-center\">\r\n        <div\r\n          class=\"check-step check-step-finished d-flex flex-column justify-content-center\"\r\n        >\r\n          <i class=\"bi bi-check2-circle check-step-icon\"></i>\r\n          <span>STEP 2</span>\r\n          <span>建立訂單</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"col text-center\">\r\n        <div\r\n          class=\"check-step d-flex flex-column justify-content-center\"\r\n          :class=\"{ 'check-step-finished': order.is_paid }\"\r\n        >\r\n          <i\r\n            class=\"bi bi-dash-circle-dotted check-step-icon\"\r\n            v-if=\"!order.is_paid\"\r\n          ></i>\r\n          <i class=\"bi bi-check2-circle check-step-icon\" v-else></i>\r\n          <span>STEP 3</span>\r\n          <span>完成訂單</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row text-center mt-7\" v-if=\"order.is_paid\">\r\n      <h2 class=\"fw-bolder\">訂單已完成付款，謝謝您的訂購！</h2>\r\n    </div>\r\n  </div>\r\n  <div class=\"container my-7\">\r\n    <div class=\"row row-cols-1 row-cols-sm-2\">\r\n      <div class=\"col\">\r\n        <h3 class=\"fw-bold\">訂購商品</h3>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 100px\"></th>\r\n              <th></th>\r\n              <th class=\"text-end\" style=\"width: 150px\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in products\" :key=\"item.id\">\r\n              <td>\r\n                <div\r\n                  style=\"\r\n                    height: 100px;\r\n                    background-size: cover;\r\n                    background-position: center center;\r\n                  \"\r\n                  :style=\"{ backgroundImage: `url(${item.product.imageUrl})` }\"\r\n                ></div>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                {{ item.product.title }}<br />\r\n                <small>數量:{{ item.qty }}</small>\r\n              </td>\r\n              <td class=\"ps-3 align-middle text-end\">\r\n                {{ item.product.price }} 元\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"3\" class=\"text-end\">\r\n                <h4 class=\"text-danger\">\r\n                  總金額 {{ order.total }} 元\r\n                </h4>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n      <div class=\"col\">\r\n        <h3 class=\"fw-bold\">\r\n          訂單資訊<span class=\"fw-normal fs-5 text-danger\"\r\n            >({{ order.is_paid ? '已付款' : '未付款' }})</span\r\n          >\r\n        </h3>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 150px\"></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td class=\"align-middle\">訂單金額</td>\r\n              <td>\r\n                <h2 class=\"text-danger align-middle\">\r\n                  {{ order.total }} 元\r\n                </h2>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>訂單編號</td>\r\n              <td>{{ order.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>訂單日期</td>\r\n              <td>{{ getDate(order.create_at) }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>email</td>\r\n              <td>{{ user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件人姓名</td>\r\n              <td>{{ user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件人電話</td>\r\n              <td>{{ user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件地址</td>\r\n              <td>{{ user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>備註</td>\r\n              <td>\r\n                <p class=\"col\" v-if=\"order.message\">{{ order.message }}</p>\r\n                <p class=\"col\" v-else>無</p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn bg-primary text-white w-100 py-3 mt-2\"\r\n          v-if=\"!order.is_paid\"\r\n          @click=\"payOrder\"\r\n        >\r\n          訂購並付款\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {},\r\n      user: {},\r\n      products: {},\r\n      is_paid: false\r\n    }\r\n  },\r\n  watch: {\r\n    is_paid () {\r\n      // console.log(this.is_paid)\r\n      this.is_paid = this.order.is_paid\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      const { id } = this.$route.params\r\n      // console.log(id)\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      this.$http.get(url).then((res) => {\r\n        // console.log(res)\r\n        this.order = res.data.order\r\n        this.user = res.data.order.user\r\n        this.products = res.data.order.products\r\n        // console.log(this.products)\r\n        // console.log(this.order)\r\n      })\r\n    },\r\n    getDate (timestamp) {\r\n      const date = new Date(timestamp * 1000)\r\n      return date.toLocaleDateString()\r\n    },\r\n    payOrder () {\r\n      const { id } = this.$route.params\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n      this.$http.post(url).then((res) => {\r\n        // console.log(res)\r\n        this.showAlert({ icon: 'success', title: `${res.data.message}` })\r\n        this.getOrder()\r\n      })\r\n    },\r\n    showAlert (message) {\r\n      // Use sweetalert2\r\n      this.$swal(message)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrder()\r\n    window.scroll(0, 0)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CheckOut.vue?vue&type=template&id=48d63db7\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\twoCakes\\\\two-cakes\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_11","style","colspan","_hoisted_3","$data","is_paid","_createElementBlock","_hoisted_8","_hoisted_9","_hoisted_12","_hoisted_16","_hoisted_18","_Fragment","_renderList","item","key","id","backgroundImage","product","imageUrl","title","_hoisted_20","_toDisplayString","qty","price","total","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","$options","create_at","_hoisted_34","email","_hoisted_35","name","_hoisted_36","tel","_hoisted_37","address","_hoisted_38","message","type","onClick","data","order","user","products","watch","this","methods","getOrder","$route","params","url","$http","get","then","res","getDate","timestamp","date","Date","toLocaleDateString","payOrder","post","showAlert","icon","$swal","mounted","window","scroll","__exports__","render"],"sourceRoot":""}